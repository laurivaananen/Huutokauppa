{% extends "layout.html" %}

{% block body %}

{% if current_user.id == item.account_information.id %}
<p class="info-text item-edit-top-span">Trying to change the bidding end date doesn't work.</p>


<form class="item-edit detail-form item-edit-bottom-span" method="POST" action="{{ url_for('item_update', item_id=item.id) }}">
    <table>
        <tr>
            <td>
                {{ form.starting_price.label }}
            </td>
            <td>
                {{ form.starting_price }}
            </td>
            <td>
                <ul>
                    {% for error in form.starting_price.errors %}
                    <li>{{ error }}</li>
                    {% endfor %}
                </ul>
            </td>
        </tr>
        <tr>
            <td>
                {{ form.buyout_price.label }}
            </td>
            <td>
                {{ form.buyout_price }}
            </td>
            <td>
                <ul>
                    {% for error in form.buyout_price.errors %}
                    <li>{{ error }}</li>
                    {% endfor %}
                </ul>
            </td>
        </tr>
        <tr>
            <td>
                {{ form.bidding_end.bidding_end_date.label }}<span class="info-text"> (yyyy-mm-dd)</span>
            </td>
            <td>
                {{ form.bidding_end.bidding_end_date(placeholder=form.get_current_date()) }}
            </td>
            <td>
                <ul>
                    {% for error in form.bidding_end.bidding_end_date.errors %}
                    <li class="form-error">{{ error }}</li>
                    {% endfor %}
                </ul>
            </td>
        </tr>
        <tr>
            <td>
                {{ form.bidding_end.bidding_end_time.label }}<span class="info-text"> (hh:mm)</span>
            </td>
            <td>
                {{ form.bidding_end.bidding_end_time(placeholder=form.get_current_time()) }}
            <td>
                <ul>
                    {% for error in form.bidding_end.bidding_end_time.errors %}
                    <li class="form-error">{{ error }}</li>
                    {% endfor %}
                </ul>
            </td>
        </tr>
        <tr>
            <td>
                {{ form.name.label }}
            </td>
            <td>
                {{ form.name }}
            </td>
            <td>
                <ul>
                    {% for error in form.name.errors %}
                    <li>{{ error }}</li>
                    {% endfor %}
                </ul>
            </td>
        </tr>
        <tr>
            <td>
                {{ form.description.label }}
            </td>
            <td>
                {{ form.description }}
            </td>
            <td>
                <ul>
                    {% for error in form.description.errors %}
                    <li>{{ error }}</li>
                    {% endfor %}
                </ul>
            </td>
        </tr>
        <tr>
            <td>
                {{ form.quality.label }}
            </td>
            <td>
                <!-- <input type="text" name="{{ form.quality.name }}" id="{{ form.quality.id }}" value="{{ item.quality.name }}"> -->
                {{ form.quality(value=item.quality.name) }}
            </td>
            <td>
                <ul>
                    {% for error in form.quality.errors %}
                    <li>{{ error }}</li>
                    {% endfor %}
                </ul>
            </td>
        </tr>
        <tr>
            <td colspan="2">
                <input class="btn green-btn" type="submit" value="Add a new item"/>
            </td>
        </tr>
    </table>
</form>
{% else %}
<p class="info-text item-edit-top-span">You are not authorized to edit this information</p>
{% endif %}

{% endblock %}